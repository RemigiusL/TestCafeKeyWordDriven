"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const read_file_relative_1 = require("read-file-relative");
const ASSETS_CACHE = {};
function loadAsset(filename, asBuffer) {
    if (!ASSETS_CACHE[filename])
        ASSETS_CACHE[filename] = read_file_relative_1.readSync(filename, asBuffer);
    return ASSETS_CACHE[filename];
}
function default_1(developmentMode) {
    const scriptNameSuffix = developmentMode ? 'js' : 'min.js';
    return {
        favIcon: loadAsset('./client/ui/favicon.ico', true),
        coreScript: loadAsset(`./client/core/index.${scriptNameSuffix}`),
        driverScript: loadAsset(`./client/driver/index.${scriptNameSuffix}`),
        uiScript: loadAsset(`./client/ui/index.${scriptNameSuffix}`),
        uiStyle: loadAsset('./client/ui/styles.css'),
        uiSprite: loadAsset('./client/ui/sprite.png', true),
        automationScript: loadAsset(`./client/automation/index.${scriptNameSuffix}`),
        // NOTE: Load the legacy client script lazily to reduce startup time
        legacyRunnerScript: require('testcafe-legacy-api').CLIENT_RUNNER_SCRIPT
    };
}
exports.default = default_1;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZC1hc3NldHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvbG9hZC1hc3NldHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwyREFBc0Q7QUFHdEQsTUFBTSxZQUFZLEdBQUcsRUFBRSxDQUFDO0FBRXhCLFNBQVMsU0FBUyxDQUFFLFFBQVEsRUFBRSxRQUFRO0lBQ2xDLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDO1FBQ3ZCLFlBQVksQ0FBQyxRQUFRLENBQUMsR0FBRyw2QkFBSSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUV0RCxPQUFPLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNsQyxDQUFDO0FBRUQsbUJBQXlCLGVBQWU7SUFDcEMsTUFBTSxnQkFBZ0IsR0FBRyxlQUFlLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDO0lBRTNELE9BQU87UUFDSCxPQUFPLEVBQVcsU0FBUyxDQUFDLHlCQUF5QixFQUFFLElBQUksQ0FBQztRQUM1RCxVQUFVLEVBQVEsU0FBUyxDQUFDLHVCQUF1QixnQkFBZ0IsRUFBRSxDQUFDO1FBQ3RFLFlBQVksRUFBTSxTQUFTLENBQUMseUJBQXlCLGdCQUFnQixFQUFFLENBQUM7UUFDeEUsUUFBUSxFQUFVLFNBQVMsQ0FBQyxxQkFBcUIsZ0JBQWdCLEVBQUUsQ0FBQztRQUNwRSxPQUFPLEVBQVcsU0FBUyxDQUFDLHdCQUF3QixDQUFDO1FBQ3JELFFBQVEsRUFBVSxTQUFTLENBQUMsd0JBQXdCLEVBQUUsSUFBSSxDQUFDO1FBQzNELGdCQUFnQixFQUFFLFNBQVMsQ0FBQyw2QkFBNkIsZ0JBQWdCLEVBQUUsQ0FBQztRQUU1RSxvRUFBb0U7UUFDcEUsa0JBQWtCLEVBQUUsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUMsb0JBQW9CO0tBQzFFLENBQUM7QUFDTixDQUFDO0FBZkQsNEJBZUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZWFkU3luYyBhcyByZWFkIH0gZnJvbSAncmVhZC1maWxlLXJlbGF0aXZlJztcblxuXG5jb25zdCBBU1NFVFNfQ0FDSEUgPSB7fTtcblxuZnVuY3Rpb24gbG9hZEFzc2V0IChmaWxlbmFtZSwgYXNCdWZmZXIpIHtcbiAgICBpZiAoIUFTU0VUU19DQUNIRVtmaWxlbmFtZV0pXG4gICAgICAgIEFTU0VUU19DQUNIRVtmaWxlbmFtZV0gPSByZWFkKGZpbGVuYW1lLCBhc0J1ZmZlcik7XG5cbiAgICByZXR1cm4gQVNTRVRTX0NBQ0hFW2ZpbGVuYW1lXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGRldmVsb3BtZW50TW9kZSkge1xuICAgIGNvbnN0IHNjcmlwdE5hbWVTdWZmaXggPSBkZXZlbG9wbWVudE1vZGUgPyAnanMnIDogJ21pbi5qcyc7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBmYXZJY29uOiAgICAgICAgICBsb2FkQXNzZXQoJy4vY2xpZW50L3VpL2Zhdmljb24uaWNvJywgdHJ1ZSksXG4gICAgICAgIGNvcmVTY3JpcHQ6ICAgICAgIGxvYWRBc3NldChgLi9jbGllbnQvY29yZS9pbmRleC4ke3NjcmlwdE5hbWVTdWZmaXh9YCksXG4gICAgICAgIGRyaXZlclNjcmlwdDogICAgIGxvYWRBc3NldChgLi9jbGllbnQvZHJpdmVyL2luZGV4LiR7c2NyaXB0TmFtZVN1ZmZpeH1gKSxcbiAgICAgICAgdWlTY3JpcHQ6ICAgICAgICAgbG9hZEFzc2V0KGAuL2NsaWVudC91aS9pbmRleC4ke3NjcmlwdE5hbWVTdWZmaXh9YCksXG4gICAgICAgIHVpU3R5bGU6ICAgICAgICAgIGxvYWRBc3NldCgnLi9jbGllbnQvdWkvc3R5bGVzLmNzcycpLFxuICAgICAgICB1aVNwcml0ZTogICAgICAgICBsb2FkQXNzZXQoJy4vY2xpZW50L3VpL3Nwcml0ZS5wbmcnLCB0cnVlKSxcbiAgICAgICAgYXV0b21hdGlvblNjcmlwdDogbG9hZEFzc2V0KGAuL2NsaWVudC9hdXRvbWF0aW9uL2luZGV4LiR7c2NyaXB0TmFtZVN1ZmZpeH1gKSxcblxuICAgICAgICAvLyBOT1RFOiBMb2FkIHRoZSBsZWdhY3kgY2xpZW50IHNjcmlwdCBsYXppbHkgdG8gcmVkdWNlIHN0YXJ0dXAgdGltZVxuICAgICAgICBsZWdhY3lSdW5uZXJTY3JpcHQ6IHJlcXVpcmUoJ3Rlc3RjYWZlLWxlZ2FjeS1hcGknKS5DTElFTlRfUlVOTkVSX1NDUklQVFxuICAgIH07XG59XG4iXX0=